<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aulas/Secciones</title>
    <link rel="stylesheet" href="/css/globalStyle.css">
    <link rel="stylesheet" href="/css/aulasSecretario.css">
</head>

<body>
    <div class="content">
        <div class="side-menu">
            <nav>
                <div class="title-menu">
                    <h3>USUARIO: </h3>
                </div>
                <ul>
                    <li><a href="/secretario/perfil">Perfil</a></li>
                    <li><a href="/secretario/aulas">Aulas/Secciones</a></li>
                    <li><a href="/secretario/matriculas">Matriculas</a></li>
                    <li><a href="/secretario/registrar_matricula">Registrar Matricula</a></li>
                    <li><a href="/secretario/anio_academico">Año Academico</a></li>
                    <li><a href="/secretario/periodos">Periodos</a></li>
                    <li><a href="/secretario/mensualidades">Mensualidades</a></li>
                    <li><a href="/secretario/estudiantes">Estudiantes</a></li>
                    <li><a href="/secretario/descuentos">Descuentos</a></li>
                    <li><a href="/secretario/definir_monto">Definir Montos</a></li>
                    <li><a href="/secretario/pagos">Pagos</a></li>
                </ul>
            </nav>
        </div>
        <div class="main-content">
            <div class="upper-body">
            </div>
            <div class="lower-body">
                <div class="title-lower-body">
                    <h1>LISTA DE DEUDORES</h1>
                </div>
                <div class="filtrar">
                    <div class="filtrar-nivel">
                        <label for="nivel">Nivel</label>
                        <select id="nivel">
                            <option value="">Todos</option>
                        </select>
                    </div>
                    <div class="filtrar-grado">
                        <label for="grado">Grado</label>
                        <select id="grado">
                            <option value="">Todos</option>
                        </select>
                    </div>
                    <div class="filtrar-seccion">
                        <label for="seccion">Sección</label>
                        <select id="seccion">
                            <option value="">Todas</option>
                        </select>
                    </div>
                </div>
                <!-- <div class="calculo-deuda-total">
                    <div class="calculo-con-monto-estimado">
                        <label for="montoEstimado">Calcular con monto Estimado</label>
                        <select name="montoEstimado" id="montoEstimado">
                        </select>
                    </div>
                    <div class="promedio-deuda-total">
                        <h3>PROMEDIO TOTAL DEUDA: </h3><span id="totalDeuda">0.00</span>
                    </div>
                </div> -->
                <div class="lista-deudores">
                    <div class="tabla-detalles">
                        <table class="tabla-deudores">
                            <thead>
                                <tr>
                                </tr>
                            </thead>
                            <tbody id="listaDeudores">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <script type="module" src="/js/api/user_secretario/apiDeudoresList.js"></script>
        <script>
    function filtrarTabla() { 
        let filtroNivel = document.getElementById('nivel').value.toLowerCase();
        let filtroGrado = document.getElementById('grado').value.toLowerCase();
        let filtroSeccion = document.getElementById('seccion').value.toLowerCase();
        
        let filas = document.querySelectorAll('.tabla-detalles tbody tr');
        
        filas.forEach(function(fila) {
            let celdas = fila.querySelectorAll('td');
            let textoFila = fila.textContent.toLowerCase();
            
            let mostrarNivel = !filtroNivel || textoFila.includes(filtroNivel);
            let mostrarGrado = !filtroGrado || textoFila.includes(filtroGrado);
            let mostrarSeccion = !filtroSeccion || textoFila.includes(filtroSeccion);
            
            fila.style.display = (mostrarNivel && mostrarGrado && mostrarSeccion) ? '' : 'none';
        });
    }
    
    document.getElementById('nivel').addEventListener('change', filtrarTabla);
    document.getElementById('grado').addEventListener('change', filtrarTabla);
    document.getElementById('seccion').addEventListener('change', filtrarTabla);
</script>
</body>

</html>